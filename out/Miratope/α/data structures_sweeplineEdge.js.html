<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>data structures/sweeplineEdge.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AvlNode.html">AvlNode</a><ul class='methods'><li data-type='method' style='display: none;'><a href="AvlNode.html#leftHeight">leftHeight</a></li><li data-type='method' style='display: none;'><a href="AvlNode.html#linkLeft">linkLeft</a></li><li data-type='method' style='display: none;'><a href="AvlNode.html#linkRight">linkRight</a></li><li data-type='method' style='display: none;'><a href="AvlNode.html#rightHeight">rightHeight</a></li><li data-type='method' style='display: none;'><a href="AvlNode.html#rotateLeft">rotateLeft</a></li><li data-type='method' style='display: none;'><a href="AvlNode.html#rotateRight">rotateRight</a></li></ul></li><li><a href="AvlTree.html">AvlTree</a><ul class='methods'><li data-type='method' style='display: none;'><a href="AvlTree.html#.getBalanceState">getBalanceState</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#.maxValueNode">maxValueNode</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#.minValueNode">minValueNode</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#_compare">_compare</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#_delete">_delete</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#_get">_get</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#_insert">_insert</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#contains">contains</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#delete">delete</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#findMaximum">findMaximum</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#findMaximumNode">findMaximumNode</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#findMinimum">findMinimum</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#findMinimumNode">findMinimumNode</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#getNode">getNode</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#insert">insert</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#isEmpty">isEmpty</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#next">next</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#prev">prev</a></li><li data-type='method' style='display: none;'><a href="AvlTree.html#size">size</a></li></ul></li><li><a href="Caret.html">Caret</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Caret.html#advance">advance</a></li><li data-type='method' style='display: none;'><a href="Caret.html#getChar">getChar</a></li><li data-type='method' style='display: none;'><a href="Caret.html#increment">increment</a></li><li data-type='method' style='display: none;'><a href="Caret.html#readNumber">readNumber</a></li><li data-type='method' style='display: none;'><a href="Caret.html#readUntil">readUntil</a></li><li data-type='method' style='display: none;'><a href="Caret.html#readWord">readWord</a></li><li data-type='method' style='display: none;'><a href="Caret.html#skipToChar">skipToChar</a></li><li data-type='method' style='display: none;'><a href="Caret.html#skipToContent">skipToContent</a></li><li data-type='method' style='display: none;'><a href="Caret.html#skipToString">skipToString</a></li><li data-type='method' style='display: none;'><a href="Caret.html#skipToStringList">skipToStringList</a></li><li data-type='method' style='display: none;'><a href="Caret.html#throwError">throwError</a></li></ul></li><li><a href="ConstructionNode.html">ConstructionNode</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ConstructionNode.html#_mergeChildren">_mergeChildren</a></li><li data-type='method' style='display: none;'><a href="ConstructionNode.html#_setGenders">_setGenders</a></li><li data-type='method' style='display: none;'><a href="ConstructionNode.html#getName">getName</a></li><li data-type='method' style='display: none;'><a href="ConstructionNode.html#setGenders">setGenders</a></li></ul></li><li><a href="Point.html">Point</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Point.html#.product">product</a></li><li data-type='method' style='display: none;'><a href="Point.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="Point.html#dimensions">dimensions</a></li><li data-type='method' style='display: none;'><a href="Point.html#scale">scale</a></li></ul></li><li><a href="Polytope.html">Polytope</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Polytope.html#._checkCommonElements">_checkCommonElements</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#._divide">_divide</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#._gcd">_gcd</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#._getIndexOfPrismProduct">_getIndexOfPrismProduct</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#._minimize">_minimize</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#._OFFReaderOnload">_OFFReaderOnload</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#._prismProduct">_prismProduct</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#._product">_product</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#.adjacentEls">adjacentEls</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#.dyad">dyad</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#.nullitope">nullitope</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#.point">point</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#.prismProduct">prismProduct</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#.regularPolygon">regularPolygon</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#.semiregularPolygon">semiregularPolygon</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#.verfLength">verfLength</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#circumradius">circumradius</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#extrudeToPyramid">extrudeToPyramid</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#getName">getName</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#move">move</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#moveNeg">moveNeg</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#polytopeToGraph">polytopeToGraph</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#renderTo">renderTo</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#saveAsOFF">saveAsOFF</a></li><li data-type='method' style='display: none;'><a href="Polytope.html#scale">scale</a></li></ul></li><li><a href="PolytopeC.html">PolytopeC</a><ul class='methods'><li data-type='method' style='display: none;'><a href="PolytopeC.html#faceToVertices">faceToVertices</a></li><li data-type='method' style='display: none;'><a href="PolytopeC.html#gravicenter">gravicenter</a></li><li data-type='method' style='display: none;'><a href="PolytopeC.html#recenter">recenter</a></li><li data-type='method' style='display: none;'><a href="PolytopeC.html#setSpaceDimensions">setSpaceDimensions</a></li><li data-type='method' style='display: none;'><a href="PolytopeC.html#toPolytopeC">toPolytopeC</a></li></ul></li><li><a href="SweeplineEdge.html">SweeplineEdge</a><ul class='methods'><li data-type='method' style='display: none;'><a href="SweeplineEdge.html#rightVertex">rightVertex</a></li><li data-type='method' style='display: none;'><a href="SweeplineEdge.html#updateRedirectTable">updateRedirectTable</a></li></ul></li></ul><h3>Namespaces</h3><ul><li><a href="BalanceState.html">BalanceState</a></li><li><a href="ConstructionNodeType.html">ConstructionNodeType</a></li><li><a href="Translation.html">Translation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Translation.html#.addAdjective">addAdjective</a></li><li data-type='method' style='display: none;'><a href="Translation.html#.elementName">elementName</a></li><li data-type='method' style='display: none;'><a href="Translation.html#.greekPrefix">greekPrefix</a></li></ul></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-translation_.html">How to translate Miratope?</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">data structures/sweeplineEdge.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";

/**
 * Constructor for SweeplineEdge.
 * @constructor
 * @classdesc
 * Helper class for [Polytope.prototype.renderTo]{@link Polytope#renderTo}, used in the sweep line
 * for Bentley-Ottmann. This format is useful because an edge on the sweep line
 * can only be cut to the right. That way, we don't need to modify the SL objects
 * after the division process:only the nodes' connections change.&lt;br />
 * &amp;emsp;The constructor precomputes the slope and gives each edge a unique,
 * immutable ID. These two properties permit consistent ordering of collinear
 * or otherwise identical edges.
 * @param {Point} leftVertex The leftmost vertex of the edge.
 * @param {number} rightVertexIndex The index of the rightmost vertex of the edge,
 * relative to `leftVertex`.
 */
function SweeplineEdge(leftVertex, rightVertexIndex) {
	this.leftVertex = leftVertex;
	this.rightVertexIndex = rightVertexIndex;
	var rightVertex = this.rightVertex();

	//Calculates the slope.
	//This won't change even if the edge gets cut down to zero length, thus making the ordering consistent.
	this.slope = (leftVertex.value.coordinates[window.index1] - rightVertex.value.coordinates[window.index1])
	/ (leftVertex.value.coordinates[window.index0] - rightVertex.value.coordinates[window.index0]);

	//Gives the edge an immutable ID in terms of its vertices.
	//Uses the redirect table (read below).
	var x = leftVertex.id;
	var y = rightVertex.id;
	var newID = (x + y) * (x + y + 1) / 2 + y;
	this.id = (SweeplineEdge.redirectTable[newID] === undefined ? newID : SweeplineEdge.redirectTable[newID]);
};

/**
 * The rightmost vertex of the edge, as determined by
 * [this.rightVertexIndex]{@linkcode SweeplineEdge#rightVertexIndex}.
 * @returns {Point} The rightmost vertex of the edge.
 */
SweeplineEdge.prototype.rightVertex = function() {
	return this.leftVertex.getNode(this.rightVertexIndex);
};

/**
 * An edge's ID must be immutable, even if the vertices themselves change, so
 * that sorting can occur consistently. At the same time, it needs to be
 * uniquely identified from the vertices, so searches can be made. To be able to
 * do both things simultaneously, we use a "redirect table". If the leftmost
 * vertex of an edge changes, we "redirect" the new calculated ID to the old
 * one.&lt;br />&amp;emsp;The redirect table is filled out as necesary by the
 * [SweeplineEdge.prototype.updateRedirectTable]{@link SweeplineEdge#updateRedirectTable} function.
 */
SweeplineEdge.redirectTable = [];

/**
 * Updates the {@link SweeplineEdge.redirectTable|redirect table} so that the
 * ID of the edge remains consisten even if the `leftVertex` changes.
 */
SweeplineEdge.prototype.updateRedirectTable = function() {
	var x = this.leftVertex.id;
	var y = this.rightVertex().id;
	var newID = (x + y) * (x + y + 1) / 2 + y;
	SweeplineEdge.redirectTable[newID] = this.id;
};

//TO DELETE
//Used for debugging purposes
SweeplineEdge.prototype.toString = function(){
	return "([" + this.leftVertex.value.coordinates.toString() +"], ["+this.rightVertex().value.coordinates.toString()+"])";
};
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Sun Nov 01 2020 02:12:37 GMT-0600 (Central Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
